(this["webpackJsonpreact-around-auth"]=this["webpackJsonpreact-around-auth"]||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),c=n(17),i=n.n(c),r=n(8),s=(n(27),n(22)),l=n(2),u=n(3),p=n.p+"static/media/logo.4e8e0a1d.svg",d=n.p+"static/media/hamburgerOpen.a46d5c1c.svg",h=n.p+"static/media/hamburgerClose.8e33a713.svg",j=n(0);function b(e){var t=e.loggedIn,n=e.navText,a=e.handleLogout,c=e.path,i=e.userEmail,s=o.a.useState(!1),u=Object(l.a)(s,2),b=u[0],_=u[1];function m(){_(!b)}return Object(j.jsxs)(j.Fragment,{children:[t&&Object(j.jsxs)("div",{className:"header__dropdown ".concat(b&&"header__dropdown_open"),children:[Object(j.jsx)("p",{className:"header__dropdown-email",children:i}),Object(j.jsx)(r.b,{to:c,onClick:function(){m(),a()},className:"header__dropdown-link",children:n})]}),Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(r.b,{to:"/",children:Object(j.jsx)("img",{id:"logo",src:p,alt:"Around the U.S.",className:"logo"})}),t?Object(j.jsxs)("div",{children:[Object(j.jsxs)("nav",{className:"header__nav-container",children:[Object(j.jsx)("p",{className:"header__email",children:i}),Object(j.jsx)(r.b,{to:c,onClick:a,className:"header__link",children:n})]}),Object(j.jsx)("button",{className:"header__hamburger",onClick:m,children:Object(j.jsx)("img",{src:b?h:d,className:"header__hamburger-icon",alt:""})})]}):Object(j.jsx)("nav",{className:"header__nav-container",children:Object(j.jsx)(r.b,{to:c,className:"header__link header__link_loggedout",children:n})})]})]})}var _=o.a.createContext();function m(e){var t=e.cardData,n=e.onCardClick,a=e.onCardLike,c=e.onCardDelete,i=o.a.useContext(_),r=t.owner._id===i._id,s=t.likes.some((function(e){return e._id===i._id}));return Object(j.jsxs)("article",{className:"element",children:[Object(j.jsx)("img",{className:"element__image",src:t.link,alt:"".concat(t.name," taken by ").concat(t.owner.name),onClick:function(){n(t)}}),Object(j.jsxs)("div",{className:"element__name-box",children:[Object(j.jsx)("h2",{className:"element__name",children:t.name}),Object(j.jsxs)("div",{className:"element__like-container",children:[Object(j.jsx)("button",{type:"button",name:"Like image",onClick:function(){a(t)},className:"element__heart ".concat(s&&"element__heart_liked"),"aria-label":"Like photo"}),Object(j.jsx)("p",{className:"element__likes",children:t.likes.length})]})]}),Object(j.jsx)("button",{type:"button",name:"Delete image",onClick:function(){c(t)},className:"element__delete ".concat(r?"element__delete_visible":"element__delete_hidden"),"aria-label":"Delete photo"})]})}function f(e){var t=o.a.useContext(_);return Object(j.jsxs)("main",{className:"content",children:[Object(j.jsxs)("section",{className:"profile",children:[Object(j.jsxs)("div",{className:"profile__info-box",children:[Object(j.jsxs)("div",{className:"profile__avatar-wrapper",children:[Object(j.jsx)("img",{id:"avatar",src:t.avatar,alt:"",className:"profile__avatar ".concat(e.isLoading?"shimmer":"")}),Object(j.jsx)("div",{onClick:e.onEditAvatarClick,className:"profile__avatar-overlay"})]}),Object(j.jsxs)("div",{className:"profile__text",children:[Object(j.jsxs)("div",{className:"profile__text-top",children:[Object(j.jsx)("h1",{className:"profile__name ".concat(e.isLoading?"shimmer":""),children:t.name}),Object(j.jsx)("button",{onClick:e.onEditProfileClick,type:"button",name:"Edit profile",className:"profile__edit-button ".concat(e.isLoading?"hide":""),"aria-label":"Edit profile"})]}),Object(j.jsx)("p",{className:"profile__title ".concat(e.isLoading?"shimmer":""),children:t.about})]})]}),Object(j.jsx)("button",{onClick:e.onAddPlaceClick,type:"button",name:"Add image",className:"profile__add-button ".concat(e.isLoading?"hide":""),"aria-label":"Add image"})]}),Object(j.jsx)("section",{className:"elements",children:e.cards.map((function(t,n){return Object(j.jsx)(m,{onCardLike:e.onCardLike,onCardDelete:e.onDeletePlaceClick,cardData:t,onCardClick:e.onCardClick},t._id)}))})]})}function O(){return Object(j.jsx)("footer",{className:"footer",children:Object(j.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Around the U.S."})})}function g(e){var t=o.a.useState(!1),n=Object(l.a)(t,2),a=n[0],c=n[1],i=o.a.useRef();return o.a.useEffect((function(){c(i.current.checkValidity())}),[e.isOpen]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"popup popup_role_".concat(e.name," ").concat(e.isOpen&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__container",children:[Object(j.jsxs)("form",{noValidate:!0,ref:i,onChange:function(){c(i.current.checkValidity())},onSubmit:e.onSubmit,action:"#",name:e.title,className:"popup__form popup__form_role_".concat(e.name),children:[Object(j.jsx)("h2",{className:"popup__header",children:e.title}),e.children,Object(j.jsx)("button",{type:"submit",className:"popup__save-button popup__save-button_role_".concat(e.name," ").concat(!a&&"popup__save-button_disabled"),disabled:!a,children:e.buttonLabel})]}),Object(j.jsx)("button",{type:"button",className:"popup__close popup__close_role_".concat(e.name),"aria-label":"Close",onClick:e.onClose})]})})})}function v(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateUser,c=e.isSubmitting,i=e.checkValidity,r=(e.onOverlayClick,o.a.useState("")),s=Object(l.a)(r,2),u=s[0],p=s[1],d=o.a.useState(""),h=Object(l.a)(d,2),b=h[0],m=h[1],f=o.a.useState(!0),O=Object(l.a)(f,2),v=O[0],x=O[1],k=o.a.useState(!0),C=Object(l.a)(k,2),N=C[0],S=C[1],y=o.a.useState(""),w=Object(l.a)(y,2),L=w[0],E=w[1],T=o.a.useState(""),P=Object(l.a)(T,2),A=P[0],I=P[1],U=o.a.useContext(_);function D(e,t,n,a){t(e.target.value),i(e,n,a)}return o.a.useEffect((function(){p(U.name||""),m(U.about||""),x(!0),S(!0)}),[U,t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(g,{onSubmit:function(e){e.preventDefault(),a({name:u,about:b})},name:"edit",title:"Edit Profile",buttonLabel:c?"Saving...":"Save",isOpen:t,onClose:n,children:Object(j.jsxs)("div",{className:"popup__input-container",children:[Object(j.jsx)("input",{type:"text",id:"name",name:"name",placeholder:"Name",value:u,onChange:function(e){return D(e,p,x,E)},className:"popup__input popup__input_role_name",required:!0,minLength:"2",maxLength:"40"}),Object(j.jsx)("span",{className:"popup__input-error popup__input-error_name ".concat(!v&&"popup__input-error_active"),children:L}),Object(j.jsx)("input",{type:"text",id:"title",name:"about",placeholder:"Title",value:b,onChange:function(e){return D(e,m,S,I)},className:"popup__input popup__input_role_title",required:!0,minLength:"2",maxLength:"200"}),Object(j.jsx)("span",{className:"popup__input-error popup__input-error_title ".concat(!N&&"popup__input-error_active"),children:A})]})})})}function x(e){var t=e.isOpen,n=e.onClose,a=e.onUpdateAvatar,c=e.isSubmitting,i=e.checkValidity,r=o.a.useRef(),s=o.a.useState(!0),u=Object(l.a)(s,2),p=u[0],d=u[1],h=o.a.useState(""),b=Object(l.a)(h,2),_=b[0],m=b[1];return o.a.useEffect((function(){r.current.value="",d(!0)}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(g,{onSubmit:function(e){e.preventDefault(),a({avatar:r.current.value})},name:"avatar",title:"Change Profile Picture",buttonLabel:c?"Saving...":"Save",isOpen:t,onClose:n,children:Object(j.jsxs)("div",{className:"popup__input-container popup__input-container_role_avatar",children:[Object(j.jsx)("input",{ref:r,onChange:function(e){return i(e,d,m)},type:"url",id:"avatar-url",name:"avatar",placeholder:"Image link",className:"popup__input popup__input_role_image-link",required:!0}),Object(j.jsx)("span",{className:"popup__input-error popup__input-error_avatar-url ".concat(!p&&"popup__input-error_active"),children:_})]})})})}function k(e){var t=o.a.useState(""),n=Object(l.a)(t,2),a=n[0],c=n[1],i=o.a.useState(""),r=Object(l.a)(i,2),s=r[0],u=r[1],p=o.a.useState(!0),d=Object(l.a)(p,2),h=d[0],b=d[1],_=o.a.useState(!0),m=Object(l.a)(_,2),f=m[0],O=m[1],v=o.a.useState(""),x=Object(l.a)(v,2),k=x[0],C=x[1],N=o.a.useState(""),S=Object(l.a)(N,2),y=S[0],w=S[1];function L(t,n,a,o){n(t.target.value),e.checkValidity(t,a,o)}return o.a.useEffect((function(){c(""),u(""),b(!0),O(!0)}),[e.isOpen]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(g,{name:"add",title:"New Place",buttonLabel:e.isSubmitting?"Saving...":"Save",isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:a,link:s})},children:Object(j.jsxs)("div",{className:"popup__input-container",children:[Object(j.jsx)("input",{type:"text",id:"place",name:"name",placeholder:"Title",className:"popup__input popup__input_role_image-title",required:!0,minLength:"1",maxLength:"30",value:a,onChange:function(e){return L(e,c,b,C)}}),Object(j.jsx)("span",{className:"popup__input-error popup__input-error_place ".concat(!h&&"popup__input-error_active"),children:k}),Object(j.jsx)("input",{type:"url",id:"url",name:"link",placeholder:"Image link",className:"popup__input popup__input_role_image-link",value:s,onChange:function(e){return L(e,u,O,w)},required:!0}),Object(j.jsx)("span",{className:"popup__input-error popup__input-error_url ".concat(!f&&"popup__input-error_active"),children:y})]})})})}function C(e){return Object(j.jsx)("div",{className:"popup popup_role_image ".concat(e.card&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__container popup__container_role_image",children:[Object(j.jsxs)("figure",{className:"popup__figure",children:[Object(j.jsx)("img",{src:"".concat(e.card?e.card.link:"#"),alt:"#",className:"popup__image"}),Object(j.jsx)("figcaption",{className:"popup__caption",children:"".concat(e.card&&e.card.name)})]}),Object(j.jsx)("button",{type:"button",className:"popup__close popup__close_role_image","aria-label":"Close",onClick:e.onClose})]})})}function N(e){var t=e.isOpen,n=e.onClose,a=e.onDeletePlace,o=e.card,c=e.isSubmitting;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(g,{onSubmit:function(e){e.preventDefault(),a(o)},name:"delete",title:"Are You Sure?",buttonLabel:c?"Deleting...":"Yes",isOpen:t,onClose:n})})}function S(e){var t=e.loggedIn,n=e.children;return Object(j.jsx)(u.b,{children:t?n:Object(j.jsx)(u.a,{to:"/signin"})})}function y(e){var t=e.loggedIn,n=e.children;return Object(j.jsx)(u.b,{children:t?Object(j.jsx)(u.a,{to:"/"}):n})}var w=n.p+"static/media/success.1b6082f8.svg",L=n.p+"static/media/fail.df8eddf6.svg";function E(e){var t=e.isOpen,n=e.onClose,a=e.isSuccess,o=e.action;return Object(j.jsx)("div",{className:"popup popup_role_tooltip ".concat(t&&"popup_opened"),children:Object(j.jsxs)("div",{className:"popup__container popup__container_role_success ",children:[Object(j.jsx)("img",{src:a?w:L,alt:"success",className:"popup__success"}),Object(j.jsx)("p",{className:"popup__message",children:a?"Success! You have now been ".concat(o,"."):"Oops, something went wrong! Please try again."}),Object(j.jsx)("button",{type:"button",className:"popup__close popup__close_role_tooltip","aria-label":"Close",onClick:n})]})})}function T(){return Object(j.jsx)("section",{className:"error",children:Object(j.jsx)("h1",{className:"error__header",children:"Oops! Looks like the page you're looking for doesn't exist"})})}var P=n(20),A=n(21),I=new(function(){function e(t){var n=t.baseUrl,a=t.authorization;Object(P.a)(this,e),this._baseUrl=n,this._auth=a}return Object(A.a)(e,[{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("".concat(e.status," error!"))}},{key:"getUserInfo",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/users/me"),{headers:{authorization:this._auth}}).then((function(t){return e._checkResponse(t)}))}},{key:"getGroupCards",value:function(){var e=this;return fetch("".concat(this._baseUrl,"/cards"),{headers:{authorization:this._auth}}).then((function(t){return e._checkResponse(t)}))}},{key:"updateProfile",value:function(e){var t=this,n=e.name,a=e.about;return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:n,about:a})}).then((function(e){return t._checkResponse(e)}))}},{key:"updateAvatar",value:function(e){var t=this,n=e.avatar;return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({avatar:n})}).then((function(e){return t._checkResponse(e)}))}},{key:"addCard",value:function(e){var t=this,n=e.name,a=e.link;return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._auth,"Content-Type":"application/json"},body:JSON.stringify({name:n,link:a})}).then((function(e){return t._checkResponse(e)}))}},{key:"changeLikeCardStatus",value:function(e,t){var n=this,a=t?"DELETE":"PUT";return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:a,headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return n._checkResponse(e)}))}},{key:"likeCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"removeLike",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:this._auth,"Content-Type":"application/json"}}).then((function(e){return t._checkResponse(e)}))}}]),e}())({baseUrl:"https://around.nomoreparties.co/v1/group-12",authorization:"d45050bb-6054-461f-a7d7-f299e145a1f0"}),U="https://register.nomoreparties.co",D=function(e,t){return fetch("".concat(U,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){if(201===e.status)return e.json();if(400===e.status)throw new Error("One of the fields was filled in incorrectly or a user with that email already exists")})).catch((function(e){console.error(e)}))},z=function(e,t){return fetch("".concat(U,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}).then((function(e){if(200===e.status)return e.json();if(400===e.status)throw new Error("One or more of the fields were not provided");if(400===e.status)throw new Error("The user with the specified email not found ")})).then((function(e){return localStorage.setItem("token",e.token),e})).catch((function(e){console.error(e)}))},R={login:{title:"Log in",button:"Log in",subtitle:"Not a member yet? Sign up here!",path:"/signup"},register:{title:"Sign up",button:"Sign up",subtitle:"Already a member? Log in here!",path:"/signin"}};function V(e){var t=e.handleAuth,n=e.role,a=e.closeAllPopups,c=e.isTooltipOpen,i=e.updateInfoTooltipState,s=e.setToolTipActionText,p=e.toolTipActionText,d=e.setLoggedIn,h=e.memoizedEscape,b=e.handleCloseOnOverlay,_=Object(u.g)(),m=o.a.useState(""),f=Object(l.a)(m,2),O=f[0],g=f[1],v=o.a.useState(""),x=Object(l.a)(v,2),k=x[0],C=x[1],N=o.a.useState(!0),S=Object(l.a)(N,2),y=S[0],w=S[1],L=o.a.useRef(),T="register"===n?"/signin":"/",P=R[n],A=P.title,I=P.button,U=P.subtitle,D=P.path;function z(e){window.addEventListener("keydown",h),window.addEventListener("click",b),w(e),i(!0)}return Object(j.jsxs)("div",{className:"auth",children:[Object(j.jsxs)("form",{action:"login",className:"auth__form",ref:L,children:[Object(j.jsx)("h1",{className:"auth__title",children:A}),Object(j.jsxs)("div",{className:"auth__input-container",children:[Object(j.jsx)("input",{type:"email",name:"email",className:"auth__input",value:O,placeholder:"Email",onChange:function(e){return g(e.target.value)},required:!0}),Object(j.jsx)("input",{type:"password",name:"password",className:"auth__input",value:k,placeholder:"Password",onChange:function(e){return C(e.target.value)},required:!0})]}),Object(j.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),L.current.checkValidity()?t(O,k).then((function(e){e?(s("login"===n?"logged in":"registered"),z(!0),"login"===n&&d(!0),g(""),C(""),_.push(T)):z(!1)})).catch((function(e){z(!1)})):L.current.reportValidity()},className:"auth__button",children:I}),Object(j.jsx)(r.b,{to:D,className:"auth__subtitle",children:U})]}),Object(j.jsx)(E,{isOpen:c,isSuccess:y,onClose:a,action:p})]})}var F=function(){var e=o.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],c=o.a.useState(!1),i=Object(l.a)(c,2),r=i[0],p=i[1],d=o.a.useState(!1),h=Object(l.a)(d,2),m=h[0],g=h[1],w=o.a.useState(!1),L=Object(l.a)(w,2),P=L[0],A=L[1],R=o.a.useState(!1),F=Object(l.a)(R,2),q=F[0],J=F[1],B=o.a.useState(!0),G=Object(l.a)(B,2),Y=G[0],H=G[1],M=o.a.useState(!1),K=Object(l.a)(M,2),Q=K[0],W=K[1],X=o.a.useState(""),Z=Object(l.a)(X,2),$=Z[0],ee=Z[1],te=o.a.useState(null),ne=Object(l.a)(te,2),ae=ne[0],oe=ne[1],ce=o.a.useState(null),ie=Object(l.a)(ce,2),re=ie[0],se=ie[1],le=o.a.useState([]),ue=Object(l.a)(le,2),pe=ue[0],de=ue[1],he=o.a.useState({}),je=Object(l.a)(he,2),be=je[0],_e=je[1],me=o.a.useState(""),fe=Object(l.a)(me,2),Oe=fe[0],ge=fe[1],ve=o.a.useState(!0),xe=Object(l.a)(ve,2),ke=xe[0],Ce=xe[1],Ne=Object(u.g)(),Se=o.a.useCallback((function(e){"Escape"===e.key&&Le()}),[]);function ye(){localStorage.removeItem("token"),Ce(!1),ge("")}function we(e,t,n){e.target.validity.valid?(t(!0),n("")):(t(!1),n(e.target.validationMessage))}function Le(){a(!1),p(!1),g(!1),A(!1),J(!1),oe(null),window.removeEventListener("keydown",Se),window.removeEventListener("click",Ee)}function Ee(e){e.target.classList.contains("popup")&&Le()}return o.a.useEffect((function(){I.getGroupCards().then((function(e){de(e)})).catch((function(e){return console.error("Problem fetching cards cards: ".concat(e))}))}),[]),o.a.useEffect((function(){I.getUserInfo().then((function(e){_e(e),H(!1)})).catch((function(e){return console.error("Problem fetching user information: ".concat(e))}))}),[]),o.a.useEffect((function(){localStorage.getItem("token")&&function(){var e=localStorage.getItem("token");return fetch("".concat(U,"/users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(e){if(200===e.status||201===e.status)return e.json();if(400===e.status)throw new Error("Token not provided or provided in the wrong format");if(401===e.status)throw new Error("The provided token is invalid ")})).catch((function(e){console.error(e)}))}().then((function(e){ge(e.data.email)})).catch((function(e){console.error("Validation error: ".concat(e)),ye(),Ne.push("/signin")}))}),[Ne,ke]),Object(j.jsx)(_.Provider,{value:be,children:Object(j.jsx)("div",{className:"page",children:Object(j.jsxs)(u.d,{children:[Object(j.jsxs)(y,{path:"/signin",loggedIn:ke,children:[Object(j.jsx)(b,{loggedIn:ke,navText:"Sign up",path:"/signup",userEmail:Oe}),Object(j.jsx)(V,{role:"login",handleAuth:z,setLoggedIn:Ce,closeAllPopups:Le,isTooltipOpen:q,updateInfoTooltipState:J,toolTipActionText:$,setToolTipActionText:ee,memoizedEscape:Se,handleCloseOnOverlay:Ee})]}),Object(j.jsxs)(y,{path:"/signup",loggedIn:ke,children:[Object(j.jsx)(b,{loggedIn:ke,navText:"Log in",path:"/signin",userEmail:Oe}),Object(j.jsx)(V,{role:"register",handleAuth:D,setLoggedIn:Ce,closeAllPopups:Le,isTooltipOpen:q,updateInfoTooltipState:J,toolTipActionText:$,setToolTipActionText:ee,memoizedEscape:Se,handleCloseOnOverlay:Ee})]}),Object(j.jsxs)(S,{exact:!0,path:"/",loggedIn:ke,children:[Object(j.jsx)(b,{loggedIn:ke,handleLogout:ye,navText:"Log out",path:"/signin",userEmail:Oe}),Object(j.jsx)(f,{onEditAvatarClick:function(){a(!0),window.addEventListener("keydown",Se),window.addEventListener("click",Ee)},onEditProfileClick:function(){p(!0),window.addEventListener("keydown",Se),window.addEventListener("click",Ee)},onAddPlaceClick:function(){g(!0),window.addEventListener("keydown",Se),window.addEventListener("click",Ee)},onCardClick:function(e){oe(e),window.addEventListener("keydown",Se),window.addEventListener("click",Ee)},isLoading:Y,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===be._id}));I.changeLikeCardStatus(e._id,t).then((function(t){de(pe.map((function(n){return n._id===e._id?t:n})))})).catch((function(e){return console.error("Problem updating 'like' status: ".concat(e))}))},onDeletePlaceClick:function(e){A(!0),se(e),window.addEventListener("keydown",Se),window.addEventListener("click",Ee)},cards:pe}),Object(j.jsx)(O,{}),Object(j.jsx)(v,{isSubmitting:Q,onUpdateUser:function(e){W(!0),I.updateProfile(e).then((function(e){_e(e),Le(),W(!1)})).catch((function(e){return console.error("Problem updating profile: ".concat(e))}))},isOpen:r,onClose:Le,checkValidity:we}),Object(j.jsx)(k,{isSubmitting:Q,onAddPlace:function(e){W(!0),I.addCard(e).then((function(e){de([e].concat(Object(s.a)(pe))),Le(),W(!1)})).catch((function(e){return console.error("Problem adding new place: ".concat(e))}))},isOpen:m,onClose:Le,checkValidity:we}),Object(j.jsx)(x,{isSubmitting:Q,onUpdateAvatar:function(e){W(!0),I.updateAvatar(e).then((function(e){_e(e),Le(),W(!1)})).catch((function(e){return console.error("Problem updating avatar: ".concat(e))}))},isOpen:n,onClose:Le,checkValidity:we}),Object(j.jsx)(N,{isSubmitting:Q,card:re,onDeletePlace:function(e){W(!0),I.deleteCard(e._id).then((function(t){de(pe.filter((function(t){return t!==e}))),Le(),W(!1)})).catch((function(e){return console.error("Problem deleting card: ".concat(e))}))},isOpen:P,onClose:Le}),Object(j.jsx)(C,{card:ae,onClose:Le}),Object(j.jsx)(E,{isOpen:q,onClose:Le,isSuccess:!0,action:$})]}),Object(j.jsxs)(u.b,{path:"/",children:[Object(j.jsx)(b,{}),Object(j.jsx)(T,{})]})]})})})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,35)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),o(e),c(e),i(e)}))};i.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(r.a,{basename:"/react-around-auth",children:Object(j.jsx)(F,{})})}),document.getElementById("root")),q()}},[[34,1,2]]]);
//# sourceMappingURL=main.30dfd4cb.chunk.js.map